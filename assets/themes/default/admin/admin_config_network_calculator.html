<div class="clearfix"></div>
<form method="post" action="" id="dataForm">
  <table border="0" cellpadding="0" class="config" width="100%">
    <tr>
      <td align="right" class="formsubject">#_matrix_width#:</td>
      <td><input type="text" name="width" size="5" id="cWidth" value="2" class="required" /></td>
    </tr>
    <tr>
      <td align="right" class="formsubject">&nbsp;#_matrix_deep#:</td>
      <td><input type="text" name="deep" size="5" id="cDeep" value="2" class="required" /></td>
    </tr>
    <tr>
      <td align="right" class="formsubject">#_setup_cost#:</td>
      <td><input type="text" name="cost" size="5" id="cCost" value="100" class="required "></td>
    </tr>
    <tr>
      <td align="right" class="formsubject">#_commission_paid#:</td>
      <td><input type="text" name="bonus" size="5" id="cBonus" value="80" class="required"></td>
    </tr>
    <tr>
      <td align="right" class="formsubject">&nbsp;</td>
      <td><button type="button" class="btn btn-primary" onClick="calculateMatrix();"><i class="fas fa-calculator"></i> #_button_calculate#</button></td>
    </tr>
  </table>
</form>
<div id="cLoading" style="display:none;">
  <table class="config" width="100%">
    <tr>
      <td class="formsubject"></td>
      <td><img src="{$config.root_url}/assets/images/load.gif" height="16" width="16" /> calculating...</td>
    </tr>
  </table>
</div>
<div id="cResult" style="display:none;" >
  <div id="mResult" class="pr-3 pl-3"> </div>
</div>
<div class="pt-3" > </div>
{literal} 
<script type="text/javascript">
    
function calculateMatrix() {
  if (this.timer) clearTimeout(this.timer);
  $('#cResult').hide();
  $('#cLoading').show();
  var width = $('#cWidth').val();
  var deep = $('#cDeep').val();
  var cost = $('#cCost').val();
  var bonus = $('#cBonus').val();
  this.timer = setTimeout(function () {
    $.ajax({
      url: 'configuration.php?do=network_calculator',
      data: '&width=' + width + '&deep=' + deep + '&cost=' + cost + '&bonus=' + bonus,
      dataType: 'json',
      type: 'post',
      success: function (j) {
        
        $('#cResult').show();
        $('#mResult').html(j.mResult);
        $('#cLoading').hide()
      }
    })
  }, 200)

}
</script> 
{/literal} 